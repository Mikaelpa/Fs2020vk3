{"version":3,"sources":["services/noteService.js","components/filter.js","components/personForm.js","components/persons.js","components/notification.js","App.js","index.js"],"names":["baseUrl","noteService","axios","get","then","res","data","newPerson","post","id","delete","concat","changedPerson","put","Filter","_ref","filter","handleChange","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","handleRemove","map","person","key","name","number","onClick","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","successMessage","setSuccessMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","initialPersons","filteredPersons","toUpperCase","includes","notification","components_filter","event","target","personForm","preventDefault","find","window","confirm","objectSpread","updatedPerson","p","setTimeout","catch","error","length","addedPerson","components_persons","newPersons","toConsumableArray","splice","indexOf","ReactDOM","render","src_App","document","getElementById"],"mappings":"qOAEMA,EAAU,yDAsBDC,EApBA,WAEX,OADYC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAkBhBL,EAfA,SAAAM,GAEX,OADYL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAahBL,EAVA,SAAAQ,GAEX,OADYP,IAAMQ,OAAN,GAAAC,OAAgBX,EAAhB,KAAAW,OAA2BF,IAC5BL,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAQhBL,EALA,SAAAW,GAEX,OADYV,IAAMW,IAAN,GAAAF,OAAaX,EAAb,KAAAW,OAAwBC,EAAcH,IAAMG,GAC7CR,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QCThBQ,EAVA,SAAAC,GAA4B,IAA1BC,EAA0BD,EAA1BC,OAAQC,EAAkBF,EAAlBE,aACrB,OACIC,EAAAC,EAAAC,cAAA,gCACsBF,EAAAC,EAAAC,cAAA,SAAOC,MAAOL,EACPM,SAAUL,MCgBhCM,EApBI,SAACC,GAChB,OACIN,EAAAC,EAAAC,cAAA,QAAMK,SAAUD,EAAME,cAClBR,EAAAC,EAAAC,cAAA,oBACUF,EAAAC,EAAAC,cAAA,SAAOC,MAAOG,EAAMG,QACbL,SAAUE,EAAMI,oBAGjCV,EAAAC,EAAAC,cAAA,sBACYF,EAAAC,EAAAC,cAAA,SAAOC,MAAOG,EAAMK,UACbP,SAAUE,EAAMM,sBAGnCZ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQW,KAAK,UAAb,UCCDC,EAfC,SAAAjB,GAA6B,IAA3BkB,EAA2BlB,EAA3BkB,QAASC,EAAkBnB,EAAlBmB,aAQvB,OACIhB,EAAAC,EAAAC,cAAA,WARsBa,EAAQE,IAAI,SAAAC,GAAM,OACxClB,EAAAC,EAAAC,cAAA,OAAKiB,IAAKD,EAAO3B,IACZ2B,EAAOE,KADZ,IACmBF,EAAOG,OACtBrB,EAAAC,EAAAC,cAAA,UAAQoB,QAASN,EAAaE,IAA9B,eCUGK,EAbM,SAAA1B,GAA0B,IAAxB2B,EAAwB3B,EAAxB2B,QAASC,EAAe5B,EAAf4B,UAC5B,OAAgB,OAAZD,EACO,KAIPxB,EAAAC,EAAAC,cAAA,OAAKuB,UAAWA,GACXD,ICmHEE,EArHH,WAAM,IAAAC,EACgBC,mBAAS,IADzBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACPZ,EADOc,EAAA,GACEG,EADFH,EAAA,GAAAI,EAEgBL,mBAAS,IAFzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAEPxB,EAFOyB,EAAA,GAEEC,EAFFD,EAAA,GAAAE,EAGoBR,mBAAS,IAH7BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGPzB,EAHO0B,EAAA,GAGIC,EAHJD,EAAA,GAAAE,EAIcX,mBAAS,IAJvBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAIPzC,EAJO0C,EAAA,GAICC,EAJDD,EAAA,GAAAE,EAK8Bd,mBAAS,MALvCe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKPE,EALOD,EAAA,GAKSE,EALTF,EAAA,GAAAG,EAM0BlB,mBAAS,MANnCmB,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAMPE,EANOD,EAAA,GAMOE,EANPF,EAAA,GAQdG,oBAAU,WACNC,IAAuBjE,KAAK,SAAAkE,GACxBpB,EAAWoB,MAEhB,IAEH,IAgFMC,EAAkBtC,EAAQjB,OAAO,SAAAoB,GAAM,OACzCA,EAAOE,KAAKkC,cAAcC,SAASzD,EAAOwD,iBAG9C,OACItD,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACsD,EAAD,CAAchC,QAASoB,EAAgBnB,UAAU,YACjDzB,EAAAC,EAAAC,cAACsD,EAAD,CAAchC,QAASwB,EAAcvB,UAAU,UAC/CzB,EAAAC,EAAAC,cAACuD,EAAD,CAAQ3D,OAAQA,EAAQC,aAjFL,SAAC2D,GACxBjB,EAAUiB,EAAMC,OAAOxD,UAiFnBH,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAC0D,EAAD,CAAYpD,aA/EF,SAACkD,GACfA,EAAMG,iBAEN,IAAM3C,EAASH,EAAQ+C,KAAK,SAAA5C,GAAM,OAAIA,EAAOE,KAAKkC,gBAAkB7C,EAAQ6C,gBAC5E,GAAIpC,GACA,GAAI6C,OAAOC,QAAP,GAAAvE,OAAkBgB,EAAlB,2EAAoG,CACpG,IAAMf,EAAaoC,OAAAmC,EAAA,EAAAnC,CAAA,GAAOZ,EAAP,CAAeG,OAAQV,IAE1CwC,EACYzD,GACPR,KAAK,SAAAgF,GACFlC,EAAWjB,EAAQE,IAAI,SAAAkD,GAAC,OACpBA,EAAE5E,KAAO2B,EAAO3B,GAAK4E,EAAID,KAE7BrB,EAAiB,WAAApD,OAAYyB,EAAOE,KAAnB,YACjBgD,WAAW,WACPvB,EAAkB,OACnB,OAENwB,MAAM,SAAAC,GACHrB,EAAe,UAAAxD,OAAWyB,EAAOE,KAAlB,yBACfgD,WAAW,WACPnB,EAAgB,OACjB,YAnBnB,CAyBA,IAAM5D,EAAY,CACd+B,KAAMX,EACNY,OAAQV,EACRpB,GAAIwB,EAAQwD,OAAS,GAGzBpB,EAAqB9D,GAAWH,KAAK,SAAAsF,GACjCxC,EAAWjB,EAAQtB,OAAO+E,IAC1BrC,EAAW,IACXG,EAAa,IACbO,EAAiB,SAAApD,OAAU+E,EAAYpD,OACvCgD,WAAW,WACPvB,EAAkB,OACnB,SAsCSpC,QAASA,EACTE,UAAWA,EACXD,iBA9FK,SAACgD,GACtBvB,EAAWuB,EAAMC,OAAOxD,QA8FRS,mBA3FO,SAAC8C,GACxBpB,EAAaoB,EAAMC,OAAOxD,UA4FtBH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACuE,EAAD,CAAS1D,QAASsC,EAAiBrC,aAxCtB,SAACE,GAAD,OAAY,WACzB6C,OAAOC,QAAP,UAAAvE,OAAyByB,EAAOE,KAAhC,OACA+B,EACYjC,EAAO3B,IACdL,KAAK,SAAAC,GACF,IAAMuF,EAAU5C,OAAA6C,EAAA,EAAA7C,CAAOf,GACvB2D,EAAWE,OAAOF,EAAWG,QAAQ3D,GAAS,GAC9Cc,EAAW0C,GACX7B,EAAiB,WAAApD,OAAYyB,EAAOE,OACpCgD,WAAW,WACPvB,EAAkB,OACnB,OAENwB,MAAM,SAAAC,GACHrB,EAAe,UAAAxD,OAAWyB,EAAOE,KAAlB,qBACfgD,WAAW,WACPnB,EAAgB,OACjB,mBC3FvB6B,IAASC,OAAO/E,EAAAC,EAAAC,cAAC8E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.3ed6903e.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'https://shielded-coast-46608.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const req = axios.get(baseUrl)\n    return req.then(res => res.data)\n}\n\nconst create = newPerson => {\n    const req = axios.post(baseUrl, newPerson)\n    return req.then(res => res.data)\n}\n\nconst remove = id => {\n    const req = axios.delete(`${baseUrl}/${id}`)\n    return req.then(res => res.data)\n}\n\nconst update = changedPerson => {\n    const req = axios.put(`${baseUrl}/${changedPerson.id}`, changedPerson)\n    return req.then(res => res.data)\n}\n\nexport default {getAll, create, remove, update}","import React from 'react'\n\nconst Filter = ({filter, handleChange}) => {\n    return (\n        <div>\n            filter shown with <input value={filter} \n                                     onChange={handleChange}\n                              />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                name: <input value={props.newName}\n                             onChange={props.handleNameChange}\n                      />\n            </div>\n            <div>\n                number: <input value={props.newNumber}\n                               onChange={props.handleNumberChange}\n                        />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({persons, handleRemove}) => {\n    const showPersons = () => persons.map(person => \n        <div key={person.id}>\n            {person.name} {person.number} \n            <button onClick={handleRemove(person)}>delete</button>\n        </div>\n    )\n\n    return (\n        <div>\n            {showPersons()}\n        </div>\n    )\n}\n\nexport default Persons","\nimport React from 'react'\n\nconst Notification = ({message, className}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n\n}\n\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport personService from './services/noteService'\nimport Filter from './components/filter'\nimport PersonForm from './components/personForm'\nimport Persons from './components/persons'\nimport Notification from './components/notification'\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [successMessage, setSuccessMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        personService.getAll().then(initialPersons => {\n            setPersons(initialPersons)\n        })\n    }, [])\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n\n        const person = persons.find(person => person.name.toUpperCase() === newName.toUpperCase())\n        if (person) {\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n                const changedPerson = {...person, number: newNumber}\n                \n                personService\n                    .update(changedPerson)\n                    .then(updatedPerson => {\n                        setPersons(persons.map(p => \n                            p.id !== person.id ? p : updatedPerson\n                        ))\n                        setSuccessMessage(`Changed ${person.name} number`)\n                        setTimeout(() => {\n                            setSuccessMessage(null)\n                        }, 5000)\n                    })\n                    .catch(error => {\n                        setErrorMessage(`Person ${person.name} was already removed`)\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                    })\n            }\n            return\n        }\n\n        const newPerson = {\n            name: newName,\n            number: newNumber,\n            id: persons.length + 1\n        }\n\n        personService.create(newPerson).then(addedPerson => {\n            setPersons(persons.concat(addedPerson))\n            setNewName('')\n            setNewNumber('')\n            setSuccessMessage(`Added ${addedPerson.name}`)\n            setTimeout(() => {\n                setSuccessMessage(null)\n            }, 5000)\n        })\n    }\n\n    const removePerson = (person) => () => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n            personService\n                .remove(person.id)\n                .then(res => {\n                    const newPersons = [...persons]\n                    newPersons.splice(newPersons.indexOf(person), 1)\n                    setPersons(newPersons)\n                    setSuccessMessage(`Deleted ${person.name}`)\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    setErrorMessage(`Person ${person.name} already removed`)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n        }\n    }\n\n    const filteredPersons = persons.filter(person => \n        person.name.toUpperCase().includes(filter.toUpperCase())\n    )\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={successMessage} className='success'/>\n            <Notification message={errorMessage} className='error'/>\n            <Filter filter={filter} handleChange={handleFilterChange}/>\n            <h3>add a new</h3>\n            <PersonForm handleSubmit={addPerson}\n                        newName={newName}\n                        newNumber={newNumber}\n                        handleNameChange={handleNameChange}\n                        handleNumberChange={handleNumberChange}\n            />\n            <h3>Numbers</h3>\n            <Persons persons={filteredPersons} handleRemove={removePerson}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}